(()=>{"use strict";var e={16:(e,t,a)=>{a.d(t,{Z:()=>n});var s={site_id:wc_mercadopago_params.site_id,platform_id:wc_mercadopago_params.platform_id,platform_version:wc_mercadopago_params.platform_version,plugin_version:wc_mercadopago_params.plugin_version,endpoint:"http://localhost:8080/insights",cust_id:1};const n=e=>{s.cust_id=e;const t=JSON.parse(sessionStorage.getItem("plugin-research"));if(t){const e=document.createElement("div");e.className="mp-plugin-research",e.setAttribute("id","plugin-research");const a=function(e){const t=document.createElement("h2");return t.className="mp-research-title",t.innerHTML=function(t){const a={MLB:e.question_pt,MLA:e.question_es,MLM:e.question_es,MLC:e.question_es,MLU:e.question_es,default:e.question_en};return a[t]||a.default}(s.site_id),t}(t);e.appendChild(a);const n=function(e){const t=document.createElement("div");return t.className="mp-research-reasons",e.reasons.forEach((e=>{let a=document.createElement("label"),n=document.createElement("input");n.addEventListener("click",(function(){document.getElementById("acc").style="max-height: 300px;"})),n.setAttribute("type","radio"),n.setAttribute("value",e.reason_en),n.setAttribute("name","rate");let r=document.createElement("span");r.innerHTML=function(e,t){const a={MLB:t.reason_pt,MLA:t.reason_es,MLM:t.reason_es,MLC:t.reason_es,MLU:t.reason_es,default:t.reason_en};return a[e]||a.default}(s.site_id,e);let o=document.createElement("div"),i=document.createElement("img");switch(e.reason_en){case"very easy":o.className="mp-research-good",i.setAttribute("src","https://hml-caronte-fe.s3.amazonaws.com/very_easy.svg");break;case"easy":o.className="mp-research-good",i.setAttribute("src","https://hml-caronte-fe.s3.amazonaws.com/easy.svg");break;case"neutral":o.className="mp-research-neutral",i.setAttribute("src","https://hml-caronte-fe.s3.amazonaws.com/neutral.svg");break;case"hard":o.className="mp-research-bad",i.setAttribute("src","https://hml-caronte-fe.s3.amazonaws.com/hard.svg");break;case"very hard":o.className="mp-research-bad",i.setAttribute("src","https://hml-caronte-fe.s3.amazonaws.com/very_hard.svg");break;default:i=null,o.className="mp-default"}i&&r.appendChild(i),a.appendChild(n),a.appendChild(r),o.appendChild(a),t.appendChild(o)})),t}(t);e.appendChild(n);let o=function(){let e=document.createElement("div");e.setAttribute("id","acc"),e.className="mp-research-accordion";let t=function(e){const t={MLB:"Por qual motivo você escolheu essa classificação? (Opcional)! conta pra gente",MLA:"¿Por qué eligió esta clasificación? (Opcional)! dinos",MLM:"¿Por qué eligió esta clasificación? (Opcional)! dinos",MLC:"¿Por qué eligió esta clasificación? (Opcional)! dinos",MLU:"¿Por qué eligió esta clasificación? (Opcional)! dinos",default:"Why did you choose this rating? (Optional)! tell us"};return t[e]||t.default}(s.site_id).split("!"),a=document.createElement("p");a.innerHTML=t[0],a.className="mp-research-text",e.appendChild(a);let n=document.createElement("textarea");n.className="mp-research-text-area",n.setAttribute("placeholder",t[1]),n.setAttribute("id","comments"),e.appendChild(n);let o=document.createElement("btn");return o.setAttribute("type","button"),o.addEventListener("click",r),o.innerHTML="Enviar",o.className="mp-research-button",e.appendChild(o),e}();return e.appendChild(o),e}};function r(){let e=function(){let e,t=s.cust_id,a=JSON.parse(sessionStorage.getItem("plugin-research")),n=document.getElementById("comments").value,r=document.querySelector('input[name="rate"]:checked').value,o=a.question_en,i=a.question_es,c=a.question_pt,l=a.code;return e=r.includes("easy")?"positive":"negative",{comments:n,reason:r,platform_id:s.platform_id,platform_version:s.platform_version,plugin_version:s.plugin_version,cust_id:t,question_en:o,question_pt:c,question_es:i,research_code:l,type:e}}();var t,a;("POST",t=s.endpoint,a=e,fetch(t,{method:"POST",body:a?JSON.stringify(a):null,headers:a?{"Content-Type":"application/json"}:{}}).then((e=>e.json()))).then((e=>{console.log(e)})).finally((()=>{!function(){let e=document.getElementById("plugin-research");e.innerHTML="";let t=document.createElement("div"),a=document.createElement("h2");a.className="mp-research-title";let n=function(e){const t={MLB:"Agradecemos a sua resposta! Ela vai nos ajudar a melhorar cada vez mais sua experiência.",MLA:"¡Agradecemos su respuesta! Nos ayudará a mejorar aún más su experiencia.",MLM:"¡Agradecemos su respuesta! Nos ayudará a mejorar aún más su experiencia.",MLC:"¡Agradecemos su respuesta! Nos ayudará a mejorar aún más su experiencia.",MLU:"¡Agradecemos su respuesta! Nos ayudará a mejorar aún más su experiencia.",default:"We appreciate your reply! It will help us to improve your experience even more."};return t[e]||t.default}(s.site_id).split("!");a.innerHTML=n[0]+"!",t.appendChild(a);let r=document.createElement("span");r.className="mp-research-span",r.innerHTML=n[1],t.appendChild(a),t.appendChild(r),e.appendChild(t),sessionStorage.removeItem("plugin-research")}()}))}},579:(e,t,a)=>{var s=a(16),n=wc_mercadopago_params.platform_id;wc_mercadopago_params.public_key_element_id;window.onload=function(){return fetch(`http://localhost:8080/platforms/${n}/research`,{method:"GET"}).then((e=>e.json())).then((e=>{sessionStorage.setItem("plugin-research",JSON.stringify(e.data)),function(e){var t=document.getElementById("mp-step-4");if(t)t.append((0,s.Z)(e));else{var a=document.getElementById("mainform");a?a.append((0,s.Z)(e)):document.body.append((0,s.Z)(e))}}(10)}))}}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,a),r.exports}a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a(579),a(16)})();